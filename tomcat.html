<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>JEE / Spring by gdufrene</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Java EE / Spring</h1>
        <p>Master e-services 2016</p>
        <p class="view"><a href="https://github.com/gdufrene/java_ee_spring-16">View the Project on GitHub <small>gdufrene/java_ee_spring-14</small></a></p>
        <ul>
          <li><a href="https://github.com/gdufrene/java_ee_spring-16/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/gdufrene/java_ee_spring-16/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/gdufrene/java_ee_spring-16">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>

      <section>

<!--
******************************************************************************
                         TOMCAT
******************************************************************************
-->
<h2>
<a name="Maven" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>
Tomcat
</h2>

<p>
  <img src="http://tomcat.apache.org/images/tomcat.png" align="left" style="margin: 5px"/>
  Tomcat est un serveur web fournissant certaines spécifications JEE : Servlet, JSP + expression language, WebSockets. <br/>
  Tomcat ne peut pas être considéré comme serveur d'applications JEE complet car il n'offre pas l'ensemble des composants définis dans les "profiles" standards. Il manque de nombreuses librairies, qui peuvent toutefois être embarquées par l'application à déployer.<br/>
  Il manquera par exemple dans tomcat un moteur d'injection (Contexts and Dependency Injection), l'API standard permettant de réaliser des service REST facilement (JAX-RS), la définition de composant java (EJB), la gestion des transactions (JTA), la gestion de la persistance (JPA) ...<br/>
  Nous embarquerons donc dans notre application web un ensemble de librairies implémentant certaines de ces fonctionnalités comme Spring, Spring-web-mvc ou Hibernate.<br/>
  Les serveurs d'applications Java EE tels que JBOSS, WebSphere, Glassfish, Oracle Application Server apportent toutes ces librairies (inutile de les embarquer avec l'application) et facilite leur usage.
</p>

<p>
  Pourquoi Tomcat ?<br/>
  C'est un serveur web java relativement facile à prendre en main, il est très répandu et éprouvé, relativement léger et plutôt performant. Il fournit un ensemble de fonctions suffisantes pour mettre en oeuvre des applications web rapidement.
</p>

<p>
  Lorsque vous décompressez tomcat vous trouverez la hiérarchie de répertoires suivante :
  <ul>
    <li>bin : 
      scripts permettant de lancer / arrêter / redémarrer le serveur
    </li>
    <li>conf :
      fichiers de configuration de tomcat
    </li>
    <li>lib : 
      les librairies dont tomcat a besoin et fournies à toutes les applications déployées.
    </li>
    <li>logs :
      journal d'accès au serveur, sortie standard (System.out.println), autres fichiers de logs.
    </li>
    <li>temp :
      fichiers temporaires générés par les applications si elles utilisent la variable d'environnement "java.io.tmpdir"
    </li>
    <li>webapps : 
      c'est ici que se trouvent les applications web déployées (un répertoire par contexte).
      Lorsque vous y déposez un fichier "war", celui ci est généralement décompressé automatiquement (dépend de la configuration tomcat). Cette décompression a lieu si un nouveau fichier war apparait ou si il est modifié (rechargement de contexte). Si le répertoire est déjà présent au lancement de tomcat, celui-ci n'essait pas de re-décompresser le war à ce moment là.
    </li>
    <li>work :
    répertoire de "travail" dans lequel tomcat mettra un ensemble de fichiers utile à son fonctionnement. Peut être considéré comme du cache effaçable. On y trouvera par exemple les fichiers java et les classes générées par les fichiers JSP.
    </li>
  </ul>
<p>

<p>
  Pour lancer tomcat, rendez-vous dans "bin" et exécuter au choix :
  <ul>
    <li><code>startup.sh</code> : lance tomcat en "arrière plan". La sortie standard est visible dans "logs/catalina.out". C'est la manière normale de lancer tomcat sur un serveur. Il peut ensuite être arrêté avec la commande <code>shutdown.sh</code>.
    </li>
    <li><code>catalina.sh <b>run</b></code> : lance tomcat dans la console actuellement lancée et affiche les sorties standard à cet endroit. Je vous recommande ce mode lorsque vous développez. Il suffira ce faire [CTRL]+C pour arrêter tomcat.
    </li>
  </ul>
  
  Votre serveur est maintenant accessible à l'adresse http://localhost:8080/ (ou via n'importe quelle IP exposée par l'une de vos interfaces réseau LAN, WAN, VPN ...).<br/>
  N'hésitez pas à consulter la <a href="http://tomcat.apache.org/tomcat-8.5-doc/index.html">documentation</a> de tomcat si nécessaire.
</p>
  
<p>  
  Votre serveur se lance par défaut sur le port 8080, pour deux raisons :
  <ul>
    <li>Le port 80 est généralement utilisé par un serveur web plus "classique" comme apache httpd ou nginx</li>
    <li>Il est nécessaire d'avoir les droits "root" pour ouvrir un port inférieur à 1024</li>
  </ul>
  
  Il reste évidemment possible de configurer tomcat pour le lancer sur le port 80 au besoin, mais en condition de "production" on place souvent un autre serveur web délivrant les fichiers "statiques" (images, js ...) permettant de décharger tomcat de ces traitements. Le lien pouvant se faire par le module "JK" ou par la mise en place d'un reverse proxy http... ces détails sont au delà de ce cours mais il vous serait utile de vous renseigner par vous-même.
</p>

      <ul class="navigation">
        <li>
          <a href="index.html"><strong>Sommaire</strong></a>
        </li>
        <li>
          <a href="sitemap.html"><strong>Plan du site</strong></a>
        </li>
        <li>
          <a href="https://github.com/gdufrene/java_ee_spring-16"><strong>Github</strong></a>
        </li>
      </ul>

    </section>

    </div>

    <footer>
      <p>Project maintained by <a href="https://github.com/gdufrene">gdufrene</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
      <p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />Ce(tte) œuvre est mise à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licence Creative Commons Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 4.0 International</a>.</p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

<script src="javascripts/jquery.js"></script>
<script src="javascripts/jquery.collapse.js"></script>
<script type="text/javascript">
$(".collapsable").collapse();
</script>

    
  </body>
</html>